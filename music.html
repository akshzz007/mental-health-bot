<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Akshzz Music</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    rel="stylesheet"
  />
  <style>
    body {
      background: linear-gradient(to bottom, #f9a8d4, #c4b5fd);
      font-family: "Arial", sans-serif;
      color: #1e293b;
      overflow: hidden;
    }
    .header-container {
      background: linear-gradient(45deg, #67e8f9, #f9a8d4);
      padding: 1rem;
      border-radius: 16px;
      margin: 1rem auto;
      width: fit-content;
      box-shadow: 0 0 20px rgba(103, 232, 249, 0.5);
      animation: pulse 2s infinite ease-in-out;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    .ai-orb {
      position: fixed;
      width: 15px;
      height: 15px;
      background: radial-gradient(circle, #67e8f9, #f9a8d4);
      border-radius: 50%;
      animation: float 3s ease-in-out forwards;
      pointer-events: none;
      z-index: 50;
    }
    .chibi-heart {
      position: fixed;
      width: 20px;
      height: 20px;
      background: url("https://img.icons8.com/emoji/48/000000/heart-suit.png");
      background-size: cover;
      animation: float 2s ease-in-out forwards;
      pointer-events: none;
      z-index: 50;
    }
    @keyframes float {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(-100px); opacity: 0; }
    }
    .player-bar {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(12px);
      border-top: 2px solid #c4b5fd;
    }
    .song-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #f9a8d4;
      border-radius: 16px;
      position: relative;
      overflow: hidden;
    }
    .song-card:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 20px rgba(249, 168, 212, 0.6);
    }
    .song-card::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(103, 232, 249, 0.3),
        transparent
      );
      transition: 0.5s;
    }
    .song-card:hover::before {
      left: 100%;
    }
    .spinner {
      width: 40px;
      height: 40px;
      background: url("https://img.icons8.com/emoji/48/000000/robot.png");
      background-size: cover;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    button:focus,
    input:focus {
      outline: 3px solid #67e8f9;
      outline-offset: 2px;
    }
    .ai-btn {
      background: linear-gradient(45deg, #f9a8d4, #67e8f9);
    }
    #progressSlider {
      appearance: none;
      width: 100%;
      height: 6px;
      background: #e5e7eb;
      border-radius: 3px;
      outline: none;
      cursor: not-allowed; /* Option A me slider sirf decoration hai */
    }
    #progressSlider::-webkit-slider-thumb {
      appearance: none;
      width: 12px;
      height: 12px;
      background: #67e8f9;
      border-radius: 50%;
      box-shadow: 0 0 8px rgba(103, 232, 249, 0.5);
      cursor: not-allowed;
    }
    #progressSlider::-moz-range-thumb {
      width: 12px;
      height: 12px;
      background: #67e8f9;
      border-radius: 50%;
      box-shadow: 0 0 8px rgba(103, 232, 249, 0.5);
      border: none;
      cursor: not-allowed;
    }
    .time-display {
      opacity: 0.6;
      font-size: 0.8rem;
    }
    @media (max-width: 768px) {
      .songs { grid-template-columns: 1fr; }
      h1 { font-size: 1.5rem; }
      .header-container { padding: 0.5rem; }
      .player-bar { flex-direction: column; gap: 0.5rem; }
      #progressSlider { width: 100%; }
      .time-display { font-size: 0.75rem; }
    }
  </style>
</head>
<body class="flex flex-col h-screen">
  <!-- Back Button -->
  <div class="flex flex-col sm:flex-row gap-4 m-4">
    <button id="backBtn" class="ai-btn text-white px-4 py-2 rounded-lg">
      Back
    </button>
  </div>

  <!-- Header -->
  <div class="header-container">
    <h1 class="text-3xl font-bold text-white text-center">Akshzz Music ðŸ¤–ðŸŽµ</h1>
  </div>

  <!-- Main Content -->
  <div class="flex-1 p-6 overflow-y-auto">
    <div class="flex justify-between mb-4">
      <input
        id="searchInput"
        type="text"
        placeholder="Search Arijit, 90s Bollywood, or romantic songs..."
        class="w-3/4 p-3 rounded-lg border border-cyan-300 focus:outline-none"
      />
      <button
        id="createPlaylist"
        class="ai-btn text-white px-4 py-2 rounded-full hover:bg-cyan-600"
      >
        <i class="fas fa-plus mr-2"></i>New Playlist
      </button>
    </div>

    <div id="playlists" class="mb-4"></div>
    <div id="songs" class="songs grid grid-cols-3 gap-4"></div>
  </div>

  <!-- Player Bar -->
  <div
    class="player-bar fixed bottom-0 w-full p-4 flex flex-col items-center justify-between"
  >
    <!-- YouTube embed player (yahi se music à¤šà¤²à¥‡à¤—à¤¾) -->
    <div class="w-full flex items-center justify-between mb-2">
      <div class="flex items-center space-x-4">
        <img
          id="songImage"
          src="https://via.placeholder.com/50"
          alt="Song image"
          class="w-12 h-12 rounded-lg"
        />
        <div>
          <p id="songName" class="font-bold text-cyan-500">No song playing</p>
          <p id="songArtist" class="text-sm text-gray-700">Pick a song</p>
        </div>
      </div>

      <!-- YouTube player chota sa right side me -->
      <div class="flex items-center space-x-2">
        <iframe
          id="ytFrame"
          class="w-64 h-32 rounded-xl border border-pink-200 shadow-md hidden sm:block"
          src=""
          title="YouTube player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe>
      </div>
    </div>

    <!-- Neeche pseudo progress (sirf UI ke liye) -->
    <div class="w-full flex flex-col items-center">
      <input
        id="progressSlider"
        type="range"
        min="0"
        max="100"
        value="0"
        class="w-full"
        disabled
      />
      <div class="time-display text-sm text-gray-700">
        <span id="currentTime">0:00</span> / <span id="durationTime">0:00</span>
      </div>
    </div>
  </div>

  <script>
    // ======== DOM ELEMENTS ========
    const searchInput = document.getElementById("searchInput");
    const songsDiv = document.getElementById("songs");
    const playlistsDiv = document.getElementById("playlists");
    const songName = document.getElementById("songName");
    const songArtist = document.getElementById("songArtist");
    const songImage = document.getElementById("songImage");
    const ytFrame = document.getElementById("ytFrame");
    const backBtn = document.getElementById("backBtn");
    const createPlaylistBtn = document.getElementById("createPlaylist");

    // ======== STATIC BOLLYWOOD SONG DATA (YOUTUBE) ========
   const songsData = [
  
  { id: 1, title: "Dil Diyan Gallan", artist: "Atif Aslam", youtubeId: "SAcpESN_Fk4", thumbnail: "https://img.youtube.com/vi/SAcpESN_Fk4/hqdefault.jpg" },

  { id: 2, title: "Raatan Lambiyan", artist: "Jubin Nautiyal", youtubeId: "gvyUuxdRdR4", thumbnail: "https://img.youtube.com/vi/gvyUuxdRdR4/hqdefault.jpg" },

  { id: 3, title: "Shape of You", artist: "Ed Sheeran", youtubeId: "JGwWNGJdvx8", thumbnail: "https://img.youtube.com/vi/JGwWNGJdvx8/hqdefault.jpg" },

  { id: 4, title: "Night Changes", artist: "One Direction", youtubeId: "syFZfO_wfMQ", thumbnail: "https://img.youtube.com/vi/syFZfO_wfMQ/hqdefault.jpg" },

  { id: 5, title: "Let Me Down Slowly", artist: "Alec Benjamin", youtubeId: "50VNCymT-Cs", thumbnail: "https://img.youtube.com/vi/50VNCymT-Cs/hqdefault.jpg" },

  { id: 6, title: "Until I Found You", artist: "Stephen Sanchez", youtubeId: "GxldQ9eX2wo", thumbnail: "https://img.youtube.com/vi/GxldQ9eX2wo/hqdefault.jpg" },

  { id: 7, title: "O Meri Laila", artist: "Atif Aslam", youtubeId: "7ZJjvZqZ-TE", thumbnail: "https://img.youtube.com/vi/7ZJjvZqZ-TE/hqdefault.jpg" },

  { id: 8, title: "Hawayein", artist: "Arijit Singh", youtubeId: "cYOB941gyXI", thumbnail: "https://img.youtube.com/vi/cYOB941gyXI/hqdefault.jpg" },

  { id: 9, title: "Khairiyat", artist: "Arijit Singh", youtubeId: "hoNb6HuNmU0", thumbnail: "https://img.youtube.com/vi/hoNb6HuNmU0/hqdefault.jpg" },

  { id: 10, title: "Pee Loon", artist: "Mohit Chauhan", youtubeId: "3tUh-x-fp8Q", thumbnail: "https://img.youtube.com/vi/3tUh-x-fp8Q/hqdefault.jpg" },

  { id: 11, title: "Love Me Like You Do", artist: "Ellie Goulding", youtubeId: "AJtDXIazrMo", thumbnail: "https://img.youtube.com/vi/AJtDXIazrMo/hqdefault.jpg" },

  { id: 12, title: "Girls Like You", artist: "Maroon 5", youtubeId: "aJOTlE1K90k", thumbnail: "https://img.youtube.com/vi/aJOTlE1K90k/hqdefault.jpg" },

  { id: 13, title: "Memories", artist: "Maroon 5", youtubeId: "SlPhMPnQ58k", thumbnail: "https://img.youtube.com/vi/SlPhMPnQ58k/hqdefault.jpg" },

  { id: 14, title: "Attention", artist: "Charlie Puth", youtubeId: "nfs8NYg7yQM", thumbnail: "https://img.youtube.com/vi/nfs8NYg7yQM/hqdefault.jpg" },

  { id: 15, title: "Despacito", artist: "Luis Fonsi", youtubeId: "kJQP7kiw5Fk", thumbnail: "https://img.youtube.com/vi/kJQP7kiw5Fk/hqdefault.jpg" },

  { id: 16, title: "Choo Lo", artist: "The Local Train", youtubeId: "gtsuGkM1rH0", thumbnail: "https://img.youtube.com/vi/gtsuGkM1rH0/hqdefault.jpg" },

  { id: 17, title: "Baarishein", artist: "Anuv Jain", youtubeId: "U6LZih4gG0A", thumbnail: "https://img.youtube.com/vi/U6LZih4gG0A/hqdefault.jpg" },

  { id: 18, title: "Husn", artist: "Anuv Jain", youtubeId: "tJDBGXWmQJw", thumbnail: "https://img.youtube.com/vi/tJDBGXWmQJw/hqdefault.jpg" },

  { id: 19, title: "Heeriye", artist: "Jasleen Royal", youtubeId: "p9Z6g590uT0", thumbnail: "https://img.youtube.com/vi/p9Z6g590uT0/hqdefault.jpg" },

  { id: 20, title: "Saibo", artist: "Shreya Ghoshal", youtubeId: "zYFz6Zsgd2I", thumbnail: "https://img.youtube.com/vi/zYFz6Zsgd2I/hqdefault.jpg" },

  { id: 21, title: "I Like Me Better", artist: "Lauv", youtubeId: "DWcJFNfaw9c", thumbnail: "https://img.youtube.com/vi/DWcJFNfaw9c/hqdefault.jpg" },

  { id: 22, title: "Faded", artist: "Alan Walker", youtubeId: "60ItHLz5WEA", thumbnail: "https://img.youtube.com/vi/60ItHLz5WEA/hqdefault.jpg" },

  { id: 23, title: "On My Way", artist: "Alan Walker", youtubeId: "dhYOPzcsbGM", thumbnail: "https://img.youtube.com/vi/dhYOPzcsbGM/hqdefault.jpg" },

  { id: 24, title: "Sugar", artist: "Maroon 5", youtubeId: "09R8_2nJtjg", thumbnail: "https://img.youtube.com/vi/09R8_2nJtjg/hqdefault.jpg" },

  { id: 25, title: "We Don't Talk Anymore", artist: "Charlie Puth", youtubeId: "3AtDnEC4zak", thumbnail: "https://img.youtube.com/vi/3AtDnEC4zak/hqdefault.jpg" },

];


    // ======== STATE ========
    let currentSongIndex = -1;
    let favorites =
      JSON.parse(localStorage.getItem("akshzzFavoritesYT_A")) || [];
    let playlists =
      JSON.parse(localStorage.getItem("akshzzPlaylistsYT_A")) || [
        {
          name: "Diwali Beats",
          songIds: [1, 3, 8],
          timestamp: new Date().toLocaleString("en-IN", {
            timeZone: "Asia/Kolkata",
          }),
        },
        {
          name: "Chill Vibes",
          songIds: [2, 4, 5, 6],
          timestamp: new Date().toLocaleString("en-IN", {
            timeZone: "Asia/Kolkata",
          }),
        },
      ];

    function savePlaylists() {
      localStorage.setItem("akshzzPlaylistsYT_A", JSON.stringify(playlists));
    }

    // ======== LITTLE ANIMATIONS ========
    function createOrbAnimation() {
      for (let i = 0; i < 5; i++) {
        const orb = document.createElement("div");
        orb.className = "ai-orb";
        orb.style.left = Math.random() * window.innerWidth + "px";
        orb.style.top = window.innerHeight - 100 + "px";
        document.body.appendChild(orb);
        setTimeout(() => orb.remove(), 3000);
      }
    }

    function createHeartAnimation() {
      for (let i = 0; i < 3; i++) {
        const heart = document.createElement("div");
        heart.className = "chibi-heart";
        heart.style.left = Math.random() * window.innerWidth + "px";
        heart.style.top = window.innerHeight - 100 + "px";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 2000);
      }
    }

    // ======== RENDER SONG CARDS ========
    function renderSongs(list) {
      songsDiv.innerHTML = "";
      if (!list || list.length === 0) {
        songsDiv.innerHTML =
          '<p class="text-red-500">No songs found. Try another search!</p>';
        return;
      }

      list.forEach((song) => {
        const card = document.createElement("div");
        card.className =
          "song-card bg-white p-4 rounded-lg shadow cursor-pointer flex flex-col";
        card.innerHTML = `
          <img src="${song.thumbnail}" alt="${
          song.title
        }" class="w-full h-32 object-cover rounded mb-2" />
          <p class="font-bold text-cyan-500">${song.title}</p>
          <p class="text-sm text-gray-700 mb-2">${song.artist}</p>
          <button class="text-pink-400 hover:text-pink-500 mt-auto add-btn">
            <i class="fas fa-plus"></i>
          </button>
        `;

        // Card click -> play
        card.addEventListener("click", (e) => {
          if (e.target.closest(".add-btn")) return;
          const idx = songsData.findIndex((s) => s.id === song.id);
          playSongByIndex(idx);
        });

        // Add to playlist
        const addBtn = card.querySelector(".add-btn");
        addBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          addToPlaylist(song.id);
        });

        songsDiv.appendChild(card);
      });
    }

    // ======== PLAYLIST RENDER ========
    function loadPlaylists() {
      playlistsDiv.innerHTML = "";
      playlists.forEach((playlist, idx) => {
        const div = document.createElement("div");
        div.className =
          "p-2 hover:bg-cyan-100 rounded cursor-pointer flex justify-between items-center";
        div.innerHTML = `
          <p class="text-cyan-500">${playlist.name}</p>
          <button class="text-red-400 hover:text-red-500 delete-btn">
            <i class="fas fa-trash"></i>
          </button>
        `;

        // Open playlist
        div.addEventListener("click", (e) => {
          if (e.target.closest(".delete-btn")) return;
          const list = playlist.songIds
            .map((id) => songsData.find((s) => s.id === id))
            .filter(Boolean);
          renderSongs(list);
        });

        // Delete playlist
        const deleteBtn = div.querySelector(".delete-btn");
        deleteBtn.addEventListener("click", (e) => {
          e.stopPropagation();
          if (confirm(`Delete playlist "${playlists[idx].name}"?`)) {
            playlists.splice(idx, 1);
            savePlaylists();
            loadPlaylists();
          }
        });

        playlistsDiv.appendChild(div);
      });
    }

    // ======== PLAY SONG (YouTube embed only) ========
    function playSongByIndex(index) {
      if (index < 0 || index >= songsData.length) return;
      currentSongIndex = index;
      const song = songsData[currentSongIndex];

      // YouTube embed with autoplay
      const url =
        "https://www.youtube.com/embed/" +
        song.youtubeId +
        "?autoplay=1&rel=0&modestbranding=1";

      ytFrame.src = url;
      ytFrame.classList.remove("hidden");

      songName.textContent = song.title;
      songArtist.textContent = song.artist;
      songImage.src = song.thumbnail;

      createOrbAnimation();
    }

    // ======== SEARCH LOCAL ========
    searchInput.addEventListener("input", () => {
      const q = searchInput.value.toLowerCase();
      const filtered = songsData.filter(
        (s) =>
          s.title.toLowerCase().includes(q) ||
          s.artist.toLowerCase().includes(q)
      );
      renderSongs(filtered);
    });

    // ======== PLAYLIST CREATION ========
    createPlaylistBtn.addEventListener("click", () => {
      const name = prompt(
        "Enter new playlist name (e.g., Party Masala):",
        `Playlist ${playlists.length + 1}`
      );
      if (name) {
        playlists.push({
          name,
          songIds: [],
          timestamp: new Date().toLocaleString("en-IN", {
            timeZone: "Asia/Kolkata",
          }),
        });
        savePlaylists();
        loadPlaylists();
      }
    });

    function addToPlaylist(songId) {
      if (playlists.length === 0) {
        alert("No playlist found. Create one first!");
        return;
      }
      const playlistName = prompt(
        "Which playlist to add to?",
        playlists[0].name
      );
      if (!playlistName) return;
      const playlist = playlists.find((p) => p.name === playlistName);
      if (!playlist) {
        alert("Playlist not found!");
        return;
      }
      if (!playlist.songIds.includes(songId)) {
        playlist.songIds.push(songId);
        savePlaylists();
        alert("Song added to " + playlistName);
      } else {
        alert("Song already in this playlist!");
      }
    }

    // ======== BACK BUTTON ========
    backBtn.addEventListener("click", () => {
      createHeartAnimation();
      window.location.href = "./index.html#dashboard";
    });

    // Keyboard accessibility
    document.querySelectorAll("button").forEach((el) => {
      el.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          el.click();
        }
      });
    });

    // ======== INITIAL LOAD ========
    window.addEventListener("load", () => {
      renderSongs(songsData);
      loadPlaylists();
    });
  </script>
</body>
</html>
